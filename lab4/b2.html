<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>RESTful Web API</title>
</head>

<body>

    <h3>RESTful Web API</h3>
    <hr>
    <button onclick="doGetAll()">Get All</button>
    <button onclick="doGetByKey()">Get By Key</button>
    <button onclick="doPost()">Post</button>
    <button onclick="doPut()">Put</button>
    <button onclick="doDelete()">Delete</button>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const host = "https://j6lab4-8bd39-default-rtdb.asia-southeast1.firebasedatabase.app";

        function doGetAll() {
            var url = `${host}/students.json`;
            axios.get(url).then(resp => {
                console.log("‚úÖ Get All Success:", resp.data);
            }).catch(error => {
                console.log("‚ùå Get All Error:", error);
            });
        }

        function doGetByKey() {
            var key = "sv001"; // üëà ƒë·ªïi key n·∫øu c·∫ßn
            var url = `${host}/students/${key}.json`;
            axios.get(url).then(resp => {
                console.log("‚úÖ Get By Key Success:", resp.data);
            }).catch(error => {
                console.log("‚ùå Get By Key Error:", error);
            });
        }

        function doPost() {
            var url = `${host}/students.json`;
            var data = {
                "id": "SV99",
                "name": "Sinh vi√™n 99",
                "mark": 4.5,
                "gender": true
            };
            axios.post(url, data).then(resp => {
                console.log("‚úÖ Post Success:", resp.data);
            }).catch(error => {
                console.log("‚ùå Post Error:", error);
            });
        }

        function doPut() {
            var key = "sv001"; // üëà key c·∫ßn c·∫≠p nh·∫≠t
            var url = `${host}/students/${key}.json`;
            var data = {
                "id": "SV00",
                "name": "Sinh vi√™n 01 (update)",
                "mark": 8.5,
                "gender": true
            };
            axios.put(url, data).then(resp => {
                console.log("‚úÖ Put Success:", resp.data);
            }).catch(error => {
                console.log("‚ùå Put Error:", error);
            });
        }

        function doDelete() {
            var key = "sv001"; // üëà key c·∫ßn x√≥a
            var url = `${host}/students/${key}.json`;
            axios.delete(url).then(resp => {
                console.log("‚úÖ Delete Success:", resp.data);
            }).catch(error => {
                console.log("‚ùå Delete Error:", error);
            });
        }
    </script>

</body>

</html>